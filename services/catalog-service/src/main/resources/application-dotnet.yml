# Profile for running alongside .NET services
# Use: ./mvnw -pl services/catalog-service spring-boot:run -Dspring-boot.run.profiles=dotnet

spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/catalogdb
    username: postgres
    password: 71UhdH_{f7C+yPyrh92RRW

  rabbitmq:
    addresses: localhost:5672
    username: guest
    password: WBpzyj95KTuVkpGxR5Fx1j

  flyway:
    # Don't run migrations - .NET already created schema
    enabled: false

  jpa:
    hibernate:
      # Don't validate or modify .NET's schema
      ddl-auto: none
      naming:
        # Use exact names from @Table/@Column annotations (preserve PascalCase)
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    properties:
      hibernate:
        # Quote all identifiers to preserve PascalCase in PostgreSQL
        globally_quoted_identifiers: true
        globally_quoted_identifiers_skip_column_definitions: true

server:
  # Fixed port matching .NET Aspire (9101 for catalog)
  port: 9101
  address: 127.0.0.1  # Bind to localhost specifically

# Disable security for testing (no auth required)

logging:
  level:
    com.eshop: DEBUG
    org.springframework.web: DEBUG
